(function(){function m(t,p,u){function r(n,l){if(!p[n]){if(!t[n]){var g="function"==typeof require&&require;if(!l&&g)return g(n,!0);if(v)return v(n,!0);g=Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g;}g=p[n]={exports:{}};t[n][0].call(g.exports,function(g){return r(t[n][1][g]||g)},g,g.exports,m,t,p,u)}return p[n].exports}for(var v="function"==typeof require&&require,l=0;l<u.length;l++)r(u[l]);return r}return m})()({1:[function(m,t,p){m=m("./gamedock-sdk");window.GamedockSDK=
m.GamedockSDK},{"./gamedock-sdk":2}],2:[function(m,t,p){function u(e,a){var b=Object.keys(e);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);a&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(e,b).enumerable}));b.push.apply(b,h)}return b}function r(e){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?u(Object(b),!0).forEach(function(a){z(e,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(b)):
u(Object(b)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(b,a))})}return e}function v(e,a,b){if(e!==a)throw new TypeError("Private static access of wrong provenance");return b}function l(e,a,b){if(e!==a)throw new TypeError("Private static access of wrong provenance");return b.get?b.get.call(e):b.value}function n(e,a){if(null==a||a>e.length)a=e.length;for(var b=0,h=Array(a);b<a;b++)h[b]=e[b];return h}function s(e,a,b){if(!a.has(e))throw new TypeError("attempted to get private field on non-instance");
return b}function g(e,a){for(var b=0;b<a.length;b++){var h=a[b];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(e,h.key,h)}}function w(e,a,b){a&&g(e.prototype,a);b&&g(e,b);return e}function c(e,a){var b=a.get(e);if(!b)throw new TypeError("attempted to get private field on non-instance");return b.get?b.get.call(e):b.value}function k(e,a,b){a=a.get(e);if(!a)throw new TypeError("attempted to set private field on non-instance");if(a.set)a.set.call(e,
b);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=b}return b}function x(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function");}function z(e,a,b){a in e?Object.defineProperty(e,a,{value:b,enumerable:!0,configurable:!0,writable:!0}):e[a]=b;return e}Object.defineProperty(p,"__esModule",{value:!0});p.GamedockSDK=void 0;var Y=function a(b){x(this,a);z(this,"rawData",null);this.rawData=b},I=new WeakMap,Z=function(){function a(b){x(this,
a);I.set(this,{writable:!0,value:null});k(this,I,b)}w(a,[{key:"url",value:function(){return c(this,I)+"event/"}},{key:"send",value:function(b){var h=this.url()+b.name;return new Promise(function(d,c){var f=new XMLHttpRequest;f.open("POST",h,!0);f.onload=function(){if(4===f.readyState&&(200===f.status||204===f.status)){var h=new Y(f.responseText);d(h)}else c(a.error(b,f))}.bind(this);f.onerror=function(){c(a.error(b,f))}.bind(this);f.onabort=function(){c(a.error(b,f))};f.ontimeout=function(){c(a.error(b,
f))};f.send(JSON.stringify(b.data))}.bind(this))}}],[{key:"error",value:function(b,a){var d={},c=a.responseText;try{d=JSON.parse(a.responseText)}catch(f){console.log("Error response is not a json string")}finally{d.errors&&console.error("The request had an error",d.errors),d.details&&(c=d.details)}return Error("Event ".concat(b.name," failed to be sent with status ").concat(a.status,' and reason "').concat(c,'"'))}}]);return a}(),J=new WeakMap,y=new WeakMap,K=new WeakMap,P=new WeakMap,Q=new WeakSet,
ca=function(){function a(b,h,d){x(this,a);Q.add(this);P.set(this,{get:$,set:void 0});J.set(this,{writable:!0,value:null});y.set(this,{writable:!0,value:null});K.set(this,{writable:!0,value:{domainId:null}});k(this,J,b);k(this,y,h);c(this,K).domainId=d}w(a,[{key:"trackEvent",value:function(b,a){return c(this,J).send(new aa(b,s(this,Q,ba).call(this,a)))}}]);return a}(),$=function(){return{visitorId:c(this,y).visitorId,timeOnPage:c(this,y).timeOnPage,pageInSession:c(this,y).pageInSession,sessionId:c(this,
y).sessionId}},ba=function(a){return r(r(r({},c(this,P)),c(this,K)),a)},B=new WeakMap,aa=function(){function a(b,c){x(this,a);z(this,"name","");B.set(this,{writable:!0,value:{}});this.name=b;this.addCustomParameters(c)}w(a,[{key:"addCustomParameter",value:function(b,a){c(this,B)[b]=a;return this}},{key:"addCustomParameters",value:function(a){var h=0;for(a=Object.entries(a);h<a.length;h++){var d;d=a[h];d=Array.isArray(d)?d:void 0;if(!d){var g=a[h];if("undefined"!==typeof Symbol&&Symbol.iterator in
Object(g)){d=[];var f=!0,k=!1,l=void 0;try{for(var m=g[Symbol.iterator](),g=void 0;!(f=(g=m.next()).done)&&!(d.push(g.value),2===d.length);f=!0);}catch(p){k=!0,l=p}finally{try{if(!f&&null!=m["return"])m["return"]()}finally{if(k)throw l;}}}else d=void 0;if(!d){a:{if(d=a[h]){if("string"===typeof d){d=n(d,2);break a}f=Object.prototype.toString.call(d).slice(8,-1);"Object"===f&&d.constructor&&(f=d.constructor.name);if("Map"===f||"Set"===f){d=Array.from(d);break a}if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)){d=
n(d,2);break a}}d=void 0}if(!d)throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}}f=d;d=f[0];f=f[1];c(this,B)[d]=f}return this}},{key:"data",get:function(){return c(this,B)}}]);return a}(),C=new WeakMap,D=new WeakMap,E=new WeakMap,L=new WeakMap,A=new WeakMap,F=new WeakMap,M=new WeakMap,G=new WeakMap,R=new WeakSet,N=new WeakSet,S=new WeakSet,T=new WeakSet,U=new WeakSet,X=function(){function a(b){x(this,
a);U.add(this);T.add(this);S.add(this);N.add(this);R.add(this);C.set(this,{writable:!0,value:null});D.set(this,{writable:!0,value:null});E.set(this,{writable:!0,value:null});L.set(this,{writable:!0,value:null});A.set(this,{writable:!0,value:null});F.set(this,{writable:!0,value:null});M.set(this,{writable:!0,value:null});G.set(this,{writable:!0,value:0});k(this,M,b);b=localStorage.getItem(this.storageName);var c=!1;try{b=JSON.parse(b)||{}}catch(d){b={}}if(!b.hasOwnProperty("visitorId")){var g;b.visitorId=
v(g=this.constructor,a,V).call(g)}b.hasOwnProperty("sessionEnd")&&b.sessionEnd&&(c=Date.now()-b.sessionEnd>l(this.constructor,a,da));b.hasOwnProperty("sessionStart")||(b.sessionStart=Date.now());if(!b.hasOwnProperty("sessionId")||c){var f;b.sessionId=v(f=this.constructor,a,V).call(f);b.sessionStart=Date.now();b.pageInSession=0}b.pageInSession+=1;k(this,C,b.visitorId);k(this,D,b.sessionId);k(this,E,b.sessionStart);k(this,A,Date.now());k(this,F,b.pageInSession);s(this,N,W).call(this);window.addEventListener("beforeunload",
s(this,R,ea).bind(this));document.addEventListener("visibilitychange",s(this,U,fa).bind(this),!1)}w(a,[{key:"toString",value:function(){return JSON.stringify({visitorId:c(this,C),sessionId:c(this,D),sessionStart:c(this,E),sessionEnd:c(this,L),pageInSession:c(this,F)})}},{key:"storageName",get:function(){return l(a,a,ga)+"_"+c(this,M)}},{key:"visitorId",get:function(){return c(this,C)}},{key:"sessionId",get:function(){return c(this,D)}},{key:"sessionStart",get:function(){return c(this,E)}},{key:"pageInSession",
get:function(){return c(this,F)}},{key:"timeOnPage",get:function(){return Math.floor((c(this,G)+(Date.now()-c(this,A)))/1E3)}}]);return a}(),ha=function(){var a=(new Date).getTime(),b=performance&&performance.now&&1E3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=16*Math.random();0<a?(d=(a+d)%16|0,a=Math.floor(a/16)):(d=(b+d)%16|0,b=Math.floor(b/16));return("x"===c?d:d&3|8).toString(16)})},V=function(){var a=window.crypto||window.msCrypto;return void 0===
a?v(this,X,ha).call(this):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,function(b){return(b^a.getRandomValues(new Uint8Array(1))[0]&15>>b/4).toString(16)})},ga={writable:!0,value:"_gdwt"},da={writable:!0,value:18E5},ea=function(){k(this,L,Date.now());s(this,N,W).call(this)},W=function(){localStorage.setItem(this.storageName,this.toString())},ia=function(){k(this,G,c(this,G)+(Date.now()-c(this,A)))},ja=function(){k(this,A,Date.now())},fa=function(){document.hidden?s(this,S,ia).call(this):s(this,T,
ja).call(this)},q=new WeakMap,H=new WeakMap;m=function(){function a(b,h,d){x(this,a);q.set(this,{writable:!0,value:{}});H.set(this,{writable:!0,value:null});z(this,"tracking",null);k(this,H,new X(b));c(this,q).orgId=b;c(this,q).domainId=h;c(this,q).environment=d?d:"PRD";this.tracking=new ca(new Z(a.urls[c(this,q).environment]+c(this,q).orgId+"/"),c(this,H),c(this,q).domainId)}w(a,[{key:"visitor",get:function(){return c(this,H)}}]);w(a,[{key:"documentation",value:function(){window.open(l(a,a,ka)+c(this,
q).orgId)}}],[{key:"initialize",value:function(b,c,d){var g={orgId:b,domainId:c};l(a,a,O).has(g)||l(a,a,O).set(g,new a(b,c,d));return l(a,a,O).get(g)}}]);return a}();p.GamedockSDK=m;var O={writable:!0,value:new WeakMap},ka={writable:!0,value:"https://tracker.gamedock.io/v1/events-tracker/track_config/"};z(m,"urls",{STG:"https://tracker-stg.gamedock.io/v1/events-tracker/track/",PRD:"https://tracker.gamedock.io/v1/events-tracker/track/"})},{}]},{},[1]);
